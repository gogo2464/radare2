NAME=di on SIGABRT
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=6 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=Aborted
signal=SIGABRT
stopreason=Aborted
Hello, World!
EOF
RUN


NAME=di on SIGALRM
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=14 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=Alarm clock
signal=SIGALRM
stopreason=Alarm clock
Hello, World!
EOF
RUN


NAME=di on SIGBUS
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=7 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=Bus error
signal=SIGBUS
stopreason=Bus error
Hello, World!
EOF
RUN


NAME=di on SIGCHLD
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=17 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=
signal=SIGCHLD
stopreason=
Hello, World!
EOF
RUN


NAME=di on SIGCONT
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=18 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=
signal=SIGCONT
stopreason=
Hello, World!
EOF
RUN


NAME=di on SIGFPE
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=8 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=fpu
signal=SIGFPE
stopreason=fpu
Hello, World!
EOF
RUN


NAME=di on SIGHUP
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=1 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=Hangup
signal=SIGHUP
stopreason=Hangup
Hello, World!
EOF
RUN


NAME=di on SIGILL
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=4 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=Illegal instruction
signal=SIGILL
stopreason=Illegal instruction
Hello, World!
EOF
RUN


NAME=di on SIGPWR
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=30 -d
CMDS=<<EOF
dc
di~type
di~signal:1
di~stopreason
EOF
EXPECT=<<EOF
type=signal
signal=none
stopreason=signal
Hello, World!
EOF
RUN


NAME=di on SIGINT
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=2 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=suspended-by-user
signal=none
stopreason=suspended-by-user
Hello, World!
EOF
RUN


NAME=di on SIGIO
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=29 -d
CMDS=<<EOF
dc
di~type
di~signal:1
di~stopreason
EOF
EXPECT=<<EOF
type=signal
signal=none
stopreason=signal
Hello, World!
EOF
RUN


NAME=di on SIGKILL
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=9 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=exit-pid
signal=none
stopreason=exit-pid
EOF
RUN


NAME=di on SIGPIPE
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=13 -d
CMDS=<<EOF
dc
di~type
di~signal:1
di~stopreason
EOF
EXPECT=<<EOF
[+] signal 13 aka SIGPIPE received 0
type=signal
signal=SIGPIPE
stopreason=signal
Hello, World!
EOF
RUN


NAME=di on SIGPROF
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=27 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=Profiling timer expired
signal=SIGPROF
stopreason=Profiling timer expired
Hello, World!
EOF
RUN


NAME=di on SIGQUIT
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=3 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=Quit
signal=SIGQUIT
stopreason=Quit
Hello, World!
EOF
RUN


NAME=di on SIGSEGV
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=11 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=Segmentation fault
signal=SIGSEGV
stopreason=Segmentation fault
Hello, World!
EOF
RUN


NAME=di on SIGSTKFLT
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=16 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=Stack fault
signal=none
stopreason=Stack fault
Hello, World!
EOF
RUN


NAME=di on SIGSTOP
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=19 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=Stopped
signal=SIGSTOP
stopreason=Stopped
Hello, World!
EOF
RUN


NAME=di on SIGSYS
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=31 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=Bad system call
signal=SIGSYS
stopreason=Bad system call
Hello, World!
EOF
RUN


NAME=di on SIGTERM
FILE=bins/elf/signals/signal-input
ARGS=-e cfg.fortunes=false -e dbg.args=15 -d
CMDS=<<EOF
dc
di~type
di~signal:0
di~stopreason
EOF
EXPECT=<<EOF
type=Terminated
signal=SIGTERM
stopreason=Terminated
Hello, World!
EOF
RUN